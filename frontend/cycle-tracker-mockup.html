<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cycle Tracker Mock-ups - Interactive</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1a1a1a;
      color: #e5e5e5;
      padding: 20px;
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .mockup-container {
      background: rgba(30, 30, 30, 0.95);
      border: 2px solid #444;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
    }

    .mockup-label {
      background: #d97706;
      color: white;
      padding: 8px 12px;
      font-weight: bold;
      font-size: 12px;
      text-align: center;
    }

    /* Mock-up A: Ultra Compact (280px) */
    .mockup-a {
      width: 280px;
      height: 600px;
    }

    /* Mock-up B: Aligned Columns (320px) */
    .mockup-b {
      width: 320px;
      height: 600px;
    }

    /* Mock-up C: Dense Info (350px) */
    .mockup-c {
      width: 350px;
      height: 600px;
    }

    /* Mock-up D: Maximum Density (280px) */
    .mockup-d {
      width: 280px;
      height: 600px;
    }

    .tracker {
      height: calc(100% - 32px);
      display: flex;
      flex-direction: column;
      background: rgba(0, 0, 0, 0.9);
    }

    .header {
      background: rgba(40, 40, 40, 0.95);
      padding: 10px 12px;
      border-bottom: 1px solid #555;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-title {
      font-size: 14px;
      font-weight: bold;
      color: #fbbf24;
    }

    .close-btn {
      background: none;
      border: none;
      color: #999;
      cursor: pointer;
      font-size: 16px;
      padding: 0 4px;
    }

    .close-btn:hover {
      color: #fff;
    }

    .tabs {
      display: flex;
      background: rgba(50, 50, 50, 0.8);
      border-bottom: 1px solid #555;
    }

    .tab {
      flex: 1;
      padding: 8px;
      text-align: center;
      cursor: pointer;
      font-size: 12px;
      border: none;
      background: none;
      color: #999;
      transition: all 0.2s;
    }

    .tab.active {
      background: rgba(217, 119, 6, 0.3);
      color: #fbbf24;
      border-bottom: 2px solid #fbbf24;
    }

    .tab:hover {
      background: rgba(217, 119, 6, 0.2);
      color: #fbbf24;
    }

    .content {
      flex: 1;
      overflow-y: auto;
      padding: 8px;
    }

    .content::-webkit-scrollbar {
      width: 6px;
    }

    .content::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.3);
    }

    .content::-webkit-scrollbar-thumb {
      background: rgba(217, 119, 6, 0.5);
      border-radius: 3px;
    }

    .set-item {
      margin-bottom: 4px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      padding-bottom: 4px;
    }

    .set-header {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 4px;
      cursor: pointer;
      font-size: 13px;
      transition: background 0.2s;
      user-select: none;
    }

    .set-header:hover {
      background: rgba(217, 119, 6, 0.1);
    }

    .expand-icon {
      font-size: 10px;
      width: 12px;
      color: #999;
    }

    .set-emoji {
      font-size: 16px;
      width: 20px;
      text-align: center;
    }

    .set-progress {
      color: #9ca3af;
      min-width: 40px;
      font-size: 12px;
    }

    .set-name {
      flex: 1;
      font-size: 13px;
    }

    .set-name.complete {
      color: #10b981;
    }

    .eye-icon {
      cursor: pointer;
      font-size: 14px;
      padding: 2px;
      transition: all 0.2s;
    }

    .eye-icon.visible {
      color: #fbbf24;
    }

    .eye-icon.hidden {
      color: #6b7280;
      opacity: 0.5;
    }

    .eye-icon:hover {
      transform: scale(1.2);
    }

    .items-list {
      display: none;
      padding: 4px 0 4px 38px;
      font-size: 12px;
    }

    .items-list.expanded {
      display: block;
    }

    .item-row {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 3px 0;
      cursor: pointer;
      transition: background 0.2s;
    }

    .item-row:hover {
      background: rgba(217, 119, 6, 0.1);
    }

    .item-checkbox {
      width: 14px;
      color: #9ca3af;
    }

    .item-checkbox.collected {
      color: #10b981;
    }

    .item-name {
      flex: 1;
      color: #d1d5db;
    }

    .item-name.collected {
      color: #6b7280;
      text-decoration: line-through;
    }

    .locate-btn {
      font-size: 10px;
      padding: 2px 6px;
      background: rgba(217, 119, 6, 0.2);
      border: 1px solid rgba(217, 119, 6, 0.5);
      border-radius: 3px;
      color: #fbbf24;
      cursor: pointer;
      transition: all 0.2s;
    }

    .locate-btn:hover {
      background: rgba(217, 119, 6, 0.4);
    }

    .footer {
      background: rgba(40, 40, 40, 0.95);
      padding: 8px 12px;
      border-top: 1px solid #555;
      font-size: 12px;
      color: #9ca3af;
      text-align: center;
    }

    .random-category {
      margin-bottom: 8px;
      padding: 6px 4px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .random-header {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      font-size: 13px;
    }

    .random-header:hover {
      background: rgba(217, 119, 6, 0.1);
    }

    .random-details {
      display: none;
      padding: 6px 0 0 38px;
      font-size: 11px;
      color: #9ca3af;
    }

    .random-details.expanded {
      display: block;
    }

    .show-spawns-btn {
      margin-top: 4px;
      padding: 4px 8px;
      background: rgba(217, 119, 6, 0.2);
      border: 1px solid rgba(217, 119, 6, 0.5);
      border-radius: 3px;
      color: #fbbf24;
      cursor: pointer;
      font-size: 11px;
      transition: all 0.2s;
      border: none;
      width: 100%;
    }

    .show-spawns-btn:hover {
      background: rgba(217, 119, 6, 0.4);
    }

    .filter-controls {
      padding: 8px;
      background: rgba(50, 50, 50, 0.5);
      border-bottom: 1px solid #555;
      font-size: 11px;
    }

    .filter-controls label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      padding: 4px 0;
    }

    .filter-controls input[type="checkbox"] {
      cursor: pointer;
    }

    /* Compact variations */
    .mockup-a .set-header,
    .mockup-d .set-header {
      padding: 4px 2px;
      font-size: 12px;
    }

    .mockup-d .set-header {
      gap: 3px;
    }

    .mockup-d .set-emoji {
      font-size: 14px;
      width: 16px;
    }

    .mockup-d .set-progress {
      min-width: 35px;
      font-size: 11px;
    }

    .mockup-d .set-name {
      font-size: 11px;
    }

    .mockup-d .items-list {
      padding-left: 24px;
      font-size: 11px;
    }

    .mockup-d .item-row {
      display: inline-block;
      width: 48%;
      padding: 2px;
    }

    /* Info display */
    .info-banner {
      background: rgba(59, 130, 246, 0.2);
      border: 1px solid rgba(59, 130, 246, 0.5);
      padding: 8px;
      margin: 10px;
      border-radius: 4px;
      font-size: 11px;
      color: #93c5fd;
      text-align: center;
    }
  </style>
</head>
<body>

  <!-- Mock-up A: Ultra Compact -->
  <div class="mockup-container mockup-a">
    <div class="mockup-label">Mock-up A: Ultra Compact (280px)</div>
    <div class="tracker" id="tracker-a">
      <div class="header">
        <div class="header-title">Cycle 3</div>
        <button class="close-btn">×</button>
      </div>
      <div class="tabs">
        <button class="tab active" data-tab="guaranteed">Sets</button>
        <button class="tab" data-tab="random">Random</button>
        <button class="tab" data-tab="all">All</button>
      </div>
      <div class="content" id="content-a"></div>
      <div class="footer">90/106 (85%)</div>
    </div>
  </div>

  <!-- Mock-up B: Aligned Columns -->
  <div class="mockup-container mockup-b">
    <div class="mockup-label">Mock-up B: Aligned Columns (320px)</div>
    <div class="tracker" id="tracker-b">
      <div class="header">
        <div class="header-title">Cycle Items</div>
        <button class="close-btn">×</button>
      </div>
      <div class="tabs">
        <button class="tab active" data-tab="guaranteed">Guaranteed</button>
        <button class="tab" data-tab="random">Random</button>
      </div>
      <div class="content" id="content-b"></div>
      <div class="footer">90/106 collected (85%)</div>
    </div>
  </div>

  <!-- Mock-up C: Dense Info with Filters -->
  <div class="mockup-container mockup-c">
    <div class="mockup-label">Mock-up C: Dense Info + Filters (350px)</div>
    <div class="tracker" id="tracker-c">
      <div class="header">
        <div class="header-title">Cycle 3</div>
        <button class="close-btn">×</button>
      </div>
      <div class="filter-controls">
        <label>
          <input type="checkbox" id="filter-complete-c"> Hide complete sets
        </label>
        <label>
          <input type="checkbox" id="filter-incomplete-c"> Show only missing items
        </label>
      </div>
      <div class="tabs">
        <button class="tab active" data-tab="guaranteed">Guaranteed</button>
        <button class="tab" data-tab="random">Random</button>
        <button class="tab" data-tab="all">All</button>
      </div>
      <div class="content" id="content-c"></div>
      <div class="footer">Total: 90/106 (85%)</div>
    </div>
  </div>

  <!-- Mock-up D: Maximum Density -->
  <div class="mockup-container mockup-d">
    <div class="mockup-label">Mock-up D: Maximum Density (280px)</div>
    <div class="tracker" id="tracker-d">
      <div class="header">
        <div class="header-title">C3</div>
        <button class="close-btn">×</button>
      </div>
      <div class="content" id="content-d"></div>
      <div class="footer">106/164 (65%)</div>
    </div>
  </div>

  <div class="info-banner" style="position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); width: 600px;">
    Click sets to expand/collapse • Click items to toggle collected • Click 👁️ to toggle map visibility • Click [Locate] to find item
  </div>

  <script>
    // Realistic mock data
    const GUARANTEED_SETS = [
      {
        emoji: '🏆',
        name: 'Cups',
        total: 14,
        collected: 12,
        visible: true,
        items: ['Ace', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Page', 'Knight', 'Queen', 'King'],
        collectedItems: [0, 1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13] // Indices of collected items
      },
      {
        emoji: '🎴',
        name: 'Swords',
        total: 14,
        collected: 10,
        visible: true,
        items: ['Ace', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Page', 'Knight', 'Queen', 'King'],
        collectedItems: [0, 1, 2, 4, 5, 7, 8, 10, 11, 13]
      },
      {
        emoji: '⭐',
        name: 'Wands',
        total: 14,
        collected: 14,
        visible: true,
        items: ['Ace', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Page', 'Knight', 'Queen', 'King'],
        collectedItems: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]
      },
      {
        emoji: '🃏',
        name: 'Pentacles',
        total: 14,
        collected: 8,
        visible: true,
        items: ['Ace', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven', 'Eight', 'Nine', 'Ten', 'Page', 'Knight', 'Queen', 'King'],
        collectedItems: [0, 2, 4, 6, 8, 10, 12, 13]
      },
      {
        emoji: '🥚',
        name: 'Coastal',
        total: 8,
        collected: 6,
        visible: true,
        items: ['Duck', 'Egret', 'Goose', 'Hawk', 'Heron', 'Loon', 'Spoonbill', 'Eagle'],
        collectedItems: [0, 1, 2, 4, 5, 7]
      },
      {
        emoji: '🥚',
        name: 'Woodland',
        total: 9,
        collected: 4,
        visible: true,
        items: ['Hawk', 'Vulture', 'Condor', 'Owl', 'Raven', 'Crow', 'Songbird', 'Woodpecker', 'Quail'],
        collectedItems: [0, 2, 5, 7]
      },
      {
        emoji: '🥚',
        name: 'Farmland',
        total: 9,
        collected: 8,
        visible: true,
        items: ['Chicken', 'Goose', 'Duck', 'Turkey', 'Heron', 'Crane', 'Egret', 'Spoonbill', 'Ibis'],
        collectedItems: [0, 1, 2, 3, 4, 5, 6, 8]
      },
      {
        emoji: '🍾',
        name: 'Bottles',
        total: 9,
        collected: 9,
        visible: true,
        items: ['Absinthe', 'Brandy', 'Cognac', 'Gin', 'Rum', 'Scotch', 'Tequila', 'Vodka', 'Whiskey'],
        collectedItems: [0, 1, 2, 3, 4, 5, 6, 7, 8]
      },
      {
        emoji: '🌺',
        name: 'Flowers',
        total: 15,
        collected: 12,
        visible: true,
        items: ['Agarita', 'Bay Bolete', 'Black Currant', 'Burdock', 'Cardinal', 'Creek Plum', 'Desert Sage', 'English Mace', 'Evergreen', 'Fireweed', 'Goldenrod', 'Hummingbird', 'Milkweed', 'Prairie', 'Wisteria'],
        collectedItems: [0, 1, 2, 4, 5, 6, 8, 9, 10, 11, 13, 14]
      },
      {
        emoji: '👑',
        name: 'Heirlooms',
        total: 9,
        collected: 7,
        visible: true,
        items: ['Brush', 'Comb', 'Hairpin', 'Pocket Watch', 'Jewelry Box', 'Goat Hair Brush', 'Ebony Hairpin', 'Tortoiseshell Comb', 'Ivory Hairpin'],
        collectedItems: [0, 1, 2, 4, 5, 6, 8]
      }
    ];

    const RANDOM_CATEGORIES = [
      {
        emoji: '🎯',
        name: 'Arrowheads',
        total: 12,
        collected: 8,
        visible: true,
        locations: 12
      },
      {
        emoji: '🪙',
        name: 'Coins',
        total: 15,
        collected: 5,
        visible: true,
        locations: 15
      },
      {
        emoji: '🦴',
        name: 'Fossils',
        total: 7,
        collected: 0,
        visible: false,
        locations: 7
      },
      {
        emoji: '💍',
        name: 'Jewelry',
        total: 15,
        collected: 3,
        visible: true,
        locations: 15
      }
    ];

    // State management
    const state = {
      expandedSets: {},
      filterComplete: false,
      filterIncomplete: false
    };

    function toggleSet(setName) {
      state.expandedSets[setName] = !state.expandedSets[setName];
      renderAll();
    }

    function toggleVisibility(setName) {
      const set = [...GUARANTEED_SETS, ...RANDOM_CATEGORIES].find(s => s.name === setName);
      if (set) {
        set.visible = !set.visible;
        renderAll();
      }
    }

    function toggleCollected(setName, itemIndex) {
      const set = GUARANTEED_SETS.find(s => s.name === setName);
      if (set) {
        const idx = set.collectedItems.indexOf(itemIndex);
        if (idx > -1) {
          set.collectedItems.splice(idx, 1);
          set.collected--;
        } else {
          set.collectedItems.push(itemIndex);
          set.collected++;
        }
        renderAll();
      }
    }

    function renderGuaranteedSets(containerId, showFilters = false) {
      let sets = GUARANTEED_SETS;

      if (state.filterComplete) {
        sets = sets.filter(s => s.collected < s.total);
      }

      return sets.map(set => {
        const isComplete = set.collected === set.total;
        const isExpanded = state.expandedSets[set.name];
        const expandIcon = isExpanded ? '▼' : '▽';

        let itemsHTML = '';
        if (isExpanded) {
          let items = set.items.map((item, idx) => ({
            name: item,
            collected: set.collectedItems.includes(idx),
            index: idx
          }));

          if (state.filterIncomplete) {
            items = items.filter(item => !item.collected);
          }

          itemsHTML = `
            <div class="items-list expanded">
              ${items.map(item => `
                <div class="item-row" onclick="toggleCollected('${set.name}', ${item.index})">
                  <span class="item-checkbox ${item.collected ? 'collected' : ''}">
                    ${item.collected ? '✓' : '○'}
                  </span>
                  <span class="item-name ${item.collected ? 'collected' : ''}">
                    ${item.name}
                  </span>
                  ${!item.collected ? '<button class="locate-btn" onclick="event.stopPropagation(); alert(\'Locating ${item.name}...\')">Locate</button>' : ''}
                </div>
              `).join('')}
            </div>
          `;
        }

        return `
          <div class="set-item">
            <div class="set-header" onclick="toggleSet('${set.name}')">
              <span class="expand-icon">${expandIcon}</span>
              <span class="set-emoji">${set.emoji}</span>
              <span class="set-progress">${set.collected}/${set.total}</span>
              <span class="set-name ${isComplete ? 'complete' : ''}">${set.name}</span>
              <span class="eye-icon ${set.visible ? 'visible' : 'hidden'}" onclick="event.stopPropagation(); toggleVisibility('${set.name}')">
                ${set.visible ? '👁️' : '👁️‍🗨️'}
              </span>
            </div>
            ${itemsHTML}
          </div>
        `;
      }).join('');
    }

    function renderRandomCategories() {
      return RANDOM_CATEGORIES.map(cat => {
        const isExpanded = state.expandedSets[cat.name];
        const expandIcon = isExpanded ? '▼' : '▽';

        let detailsHTML = '';
        if (isExpanded) {
          detailsHTML = `
            <div class="random-details expanded">
              <div>${cat.total - cat.collected} more needed</div>
              <div>${cat.locations} spawn locations</div>
              <button class="show-spawns-btn" onclick="alert('Showing ${cat.name} spawns on map...')">
                Show Spawns on Map
              </button>
            </div>
          `;
        }

        return `
          <div class="random-category">
            <div class="random-header" onclick="toggleSet('${cat.name}')">
              <span class="expand-icon">${expandIcon}</span>
              <span class="set-emoji">${cat.emoji}</span>
              <span class="set-progress">${cat.collected}/${cat.total}</span>
              <span class="set-name">${cat.name}</span>
              <span class="eye-icon ${cat.visible ? 'visible' : 'hidden'}" onclick="event.stopPropagation(); toggleVisibility('${cat.name}')">
                ${cat.visible ? '👁️' : '👁️‍🗨️'}
              </span>
            </div>
            ${detailsHTML}
          </div>
        `;
      }).join('');
    }

    function renderAll() {
      // Render for each mockup
      document.getElementById('content-a').innerHTML = renderGuaranteedSets('a');
      document.getElementById('content-b').innerHTML = renderGuaranteedSets('b');
      document.getElementById('content-c').innerHTML = renderGuaranteedSets('c', true);

      // Mock-up D shows both guaranteed and random
      document.getElementById('content-d').innerHTML = `
        ${renderGuaranteedSets('d')}
        <div style="border-top: 1px solid #555; margin: 8px 0; padding-top: 4px;">
          ${renderRandomCategories()}
        </div>
      `;
    }

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function() {
        const parent = this.closest('.tracker');
        const contentId = parent.querySelector('.content').id;
        const tabType = this.dataset.tab;

        // Update active tab
        parent.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');

        // Update content
        const content = document.getElementById(contentId);
        if (tabType === 'guaranteed') {
          content.innerHTML = renderGuaranteedSets(contentId);
        } else if (tabType === 'random') {
          content.innerHTML = renderRandomCategories();
        } else if (tabType === 'all') {
          content.innerHTML = `
            ${renderGuaranteedSets(contentId)}
            <div style="border-top: 1px solid #555; margin: 8px 0; padding-top: 4px;">
              ${renderRandomCategories()}
            </div>
          `;
        }
      });
    });

    // Filter controls
    document.getElementById('filter-complete-c')?.addEventListener('change', function() {
      state.filterComplete = this.checked;
      renderAll();
    });

    document.getElementById('filter-incomplete-c')?.addEventListener('change', function() {
      state.filterIncomplete = this.checked;
      renderAll();
    });

    // Initial render
    renderAll();
  </script>
</body>
</html>
